export GITHUB_TOKEN=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
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
curl -H "Authorization: token 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" https://api.github.com/user


t@Testvm:~/backstage-dev# curl -H "Authorization: token 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" https://api.github.com/user
{
  "message": "Bad credentials",
  "documentation_url": "https://docs.github.com/rest",
  "status": "401"
}

Error

HttpError
Message

Bad credentials - https://docs.github.com/rest

vm:~/backstage-dev# curl -H "Authorization: token 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" https://api.github.com/user
{
  "message": "Bad credentials",
  "documentation_url": "https://docs.github.com/rest",
  "status": "401"


curl -H "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" https://api.github.com/user


root@Testvm:~/backstage-dev# curl -H "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" https://api.github.com/user
{
  "message": "Requires authentication",
  "documentation_url": "https://docs.github.com/rest/users/users#get-the-authenticated-user",
  "status": "401"
}



curl -H "Authorization: token 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" https://api.github.com/user
root@Testvm:~/backstage-dev# curl -H "Authorization: token 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" https://api.github.com/user
{
  "message": "Bad credentials",
  "documentation_url": "https://docs.github.com/rest",
  "status": "401"
}
export NODE_OPTIONs=--no-node-snapshot

root@Testvm:~/backstage-dev# curl -H "Authorization: token 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" https://api.github.com/user
{
  "message": "Bad credentials",
  "documentation_url": "https://docs.github.com/rest",
  "status": "401"
}
When using Node.js version 20 or newer, the scaffolder backend plugin requires that it be started with the --no-node-snapshot option. 
        Please make sure that you have NODE_OPTIONS=--no-node-snapshot in your environmen
15
2025-06-25T05:38:45.000Z Beginning step Publish to GitHub
16
2025-06-25T05:38:46.000Z HttpError: Bad credentials - https://docs.github.com/rest
17
    at /root/backstage-dev/node_modules/@octokit/request/dist-node/index.js:125:21
18
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
19
    at async requestWithGraphqlErrorHandling (/root/backstage-dev/node_modules/@octokit/plugin-retry/dist-node/index.js:71:20)
20
    at async Job.doExecute (/root/backstage-dev/node_modules/bottleneck/light.js:405:18)


export NODE_OPTIONS=--no-node-snapshot
yarn start
echo 'export NODE_OPTIONS=--no-node-snapshot' >> ~/.bashrc
source ~/.bashrc
yarn start
NODE_OPTIONS=--no-node-snapshot yarn start

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

2025-06-29T09:43:29.000Z InputError: Invalid input passed to action publish:github, instance is not allowed to have the additional property "allowedHosts"
12
    at NunjucksWorkflowRunner.executeStep (/home/azureuser/Desktop/backstage-dev/node_modules/@backstage/plugin-scaffolder-backend/src/scaffolder/tasks/NunjucksWorkflowRunner.ts:344:19)
13
    at NunjucksWorkflowRunner.execute (/home/azureuser/Desktop/backstage-dev/node_modules/@backstage/plugin-scaffolder-backend/src/scaffolder/tasks/NunjucksWorkflowRunner.ts:523:9)
14
    at TaskWorker.runOneTask (/home/azureuser/Desktop/backstage-dev/node_modules/@backstage/plugin-scaffolder-backend/src/scaffolder/tasks/TaskWorker.ts:204:26)
15
    at async run (/home/azureuser/Desktop/backstage-dev/node_modules/p-queue/dist/index.js:163:29)
